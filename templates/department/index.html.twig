{% extends 'base.html.twig' %}

{% block title %}Departments
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<style>
		body {
			background: linear-gradient(135deg, #4f46e5, #9333ea);
			min-height: 100vh;
			font-family: 'Inter', 'Segoe UI', Roboto, sans-serif;
			display: flex;
			flex-direction: column;
			align-items: center;
			padding: 2rem;
		}

		.department-container {
			background: #ffffff;
			border-radius: 16px;
			padding: 2rem 2.5rem;
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
			width: 100%;
			max-width: 1000px;
			animation: fadeInUp 0.6s ease;
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		h1 {
			font-size: 2rem;
			font-weight: 700;
			text-align: center;
			margin-bottom: 1.5rem;
			color: #343a40;
		}

		table {
			width: 100%;
			border-collapse: separate;
			border-spacing: 0 0.6rem;
		}

		thead {
			background-color: #4f46e5;
			color: #ffffff;
		}

		thead th {
			text-align: left;
			padding: 0.75rem 1rem;
			font-weight: 600;
			border-top-left-radius: 10px;
			border-top-right-radius: 10px;
		}

		tbody tr {
			background: #f9f9ff;
			border-radius: 10px;
			transition: transform 0.2s ease, box-shadow 0.2s ease;
		}

		tbody tr:hover {
			transform: translateY(-3px);
			box-shadow: 0 5px 15px rgba(79, 70, 229, 0.15);
		}

		td {
			padding: 0.8rem 1rem;
			color: #343a40;
		}

		.table-actions a {
			margin-right: 10px;
			padding: 0.4rem 0.8rem;
			border-radius: 6px;
			font-size: 0.9rem;
			font-weight: 500;
			text-decoration: none;
			color: #fff;
			transition: all 0.2s ease;
		}

		.table-actions a:first-child {
			background: linear-gradient(90deg, #4f46e5, #7c3aed);
		}

		.table-actions a:first-child:hover {
			box-shadow: 0 3px 10px rgba(79, 70, 229, 0.3);
		}

		.table-actions a:last-child {
			background: linear-gradient(90deg, #9333ea, #c026d3);
		}

		.table-actions a:last-child:hover {
			box-shadow: 0 3px 10px rgba(147, 51, 234, 0.3);
		}

		.no-records {
			text-align: center;
			color: #6c757d;
			font-style: italic;
			padding: 1rem;
		}

		.btn-new {
			display: inline-block;
			margin-top: 1.5rem;
			background: linear-gradient(90deg, #4f46e5, #9333ea);
			color: #fff;
			padding: 0.7rem 1.4rem;
			border-radius: 8px;
			font-weight: 500;
			text-decoration: none;
			transition: all 0.3s ease;
		}

		.btn-new:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
		}
	</style>
{% endblock %}

{% block body %}
	<div class="department-container">
		<h1>üè¢ Department List</h1>

		<table>
			<thead>
				<tr>
					<th>#ID</th>
					<th>Name</th>
					<th>Description</th>
					<th>Created At</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for department in departments %}
					<tr>
						<td>{{ department.id }}</td>
						<td>{{ department.name }}</td>
						<td>{{ department.Description }}</td>
						<td>{{ department.CreatedAt ? department.CreatedAt|date('Y-m-d H:i') : '‚Äî' }}</td>
						<td class="table-actions">
							<a href="{{ path('app_department_show', {'id': department.id}) }}">View</a>
							<a href="{{ path('app_department_edit', {'id': department.id}) }}">Edit</a>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="5" class="no-records">No departments found.</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

		<div class="text-center">
			<a href="{{ path('app_department_new') }}" class="btn-new">‚ûï Create New Department</a>
		</div>
	</div>
{% endblock %}
